local_costmap:
  global_frame: odom
  robot_base_frame: base_footprint
  update_frequency: 10.0
  publish_frequency: 5.0
  static_map: false
  rolling_window: true
  transform_tolerance: 0.5
  width: 10.0
  height: 10.0
  resolution: 0.05
  
  plugins:
    - {name: obstacle_layer, type: "costmap_2d::ObstacleLayer"}
    - {name: inflation_layer, type: "costmap_2d::InflationLayer"}

  # ！！！ 以下是必须添加的关键配置 ！！！
  obstacle_layer:
    observation_sources: scan  # 可以自定义名称，如 "laser_scan"
    scan:  # 此名称必须与上面的 observation_sources 中定义的名称一致
      topic: /scan  # ！！！确保这是您实际的激光雷达话题！！！
      sensor_frame: laser_link  # ！！！确保这是您激光雷达的坐标系！！！
      data_type: LaserScan  # 消息类型：LaserScan 或 PointCloud2
      marking: true   # 使用此数据标记障碍物
      clearing: true  # 使用此数据清除空间（标记无障碍区域）
      inf_is_valid: false  # 对于激光雷达，无限远点通常视为无效
      # 以下参数可根据需要调整
      expected_update_rate: 0.5  # 期望的传感器更新速率（秒）
      min_obstacle_height: 0.0   # 考虑的最小障碍物高度（米）
      max_obstacle_height: 2.0   # 考虑的最大障碍物高度（米）
      obstacle_range: 15.0        # 最大障碍物检测范围（米）
      raytrace_range: 15.0        # 最大清除空间范围（米）

  inflation_layer:
    inflation_radius: 0.1  # 膨胀半径（米）
    cost_scaling_factor: 5.0  # 成本缩放因子
    enabled: true